version: 2
sources:
  - name: raw_criptoya_api
    config:
      y42_source:
        type: python-ingest
        function_size: L
      y42:
        apiVersion: v3
    meta:
      experts:
        users:
          - darb302@gmail.com
    tables:
      - name: raw_exchange_rates_other_usd_ars
        columns:
          - name: timestamp
            data_type: FLOAT
          - name: price
            data_type: FLOAT
          - name: bid
            data_type: FLOAT
          - name: index
            data_type: TEXT
          - name: ask
            data_type: FLOAT
      - name: raw_exchange_rates_cripto_usdt_ars
        columns:
          - name: time
            data_type: FLOAT
            tests:
              - not_null:
                  config:
                    severity: warn
            description: Timestamp of the update of the entity.
          - name: totalBid
            data_type: FLOAT
            tests:
              - not_null:
                  config:
                    severity: warn
            description: Final sale price including transfer and trade fees.
          - name: totalAsk
            data_type: FLOAT
            tests:
              - not_null:
                  config:
                    severity: warn
            description: Final purchase price including transfer and trade fees.
          - name: bid
            data_type: FLOAT
            tests:
              - not_null:
                  config:
                    severity: warn
            description: Sale price reported by the exchange, excluding fees.
          - name: index
            data_type: TEXT
            tests:
              - not_null:
                  config:
                    severity: warn
            description: Unique ID of the entity.
          - name: ask
            data_type: FLOAT
            tests:
              - not_null:
                  config:
                    severity: warn
            description: Purchase price reported by the exchange, excluding fees
      - name: raw_exchange_rates_mep_usd_ars
        columns:
          - name: variation
            data_type: FLOAT
          - name: timestamp
            data_type: FLOAT
          - name: price
            data_type: FLOAT
          - name: index
            data_type: TEXT
    description: >-
      The following data will be pulled from the Criptoya API:


      * Cryptocurrency Exchange Rates (Usdt/Ars) for the main exchanges in Argentina.


      * Exchange rates (Usd / Ars) for the parallel market (Blue), card and savings (Bank Dollars). 
